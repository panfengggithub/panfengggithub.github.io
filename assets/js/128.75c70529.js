(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{545:function(e,a,s){"use strict";s.r(a);var t=s(1),n=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"zookeeperè¯¦ç»†åŠŸèƒ½ä»‹ç»ä¸å®¢æˆ·ç«¯æ¡†æ¶ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zookeeperè¯¦ç»†åŠŸèƒ½ä»‹ç»ä¸å®¢æˆ·ç«¯æ¡†æ¶ä½¿ç”¨"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Zookeeperè¯¦ç»†åŠŸèƒ½ä»‹ç»ä¸å®¢æˆ·ç«¯æ¡†æ¶ä½¿ç”¨")])]),e._v(" "),a("h2",{attrs:{id:"èŠ‚ç‚¹ç±»å‹-znode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚ç‚¹ç±»å‹-znode"}},[e._v("#")]),e._v(" èŠ‚ç‚¹ç±»å‹(znode)")]),e._v(" "),a("ol",[a("li",[e._v("æŒä¹…èŠ‚ç‚¹ï¼Œæ‰€è°“æŒä¹…èŠ‚ç‚¹ï¼Œæ˜¯æŒ‡åœ¨èŠ‚ç‚¹åˆ›å»ºåï¼Œå°±ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æœ‰åˆ é™¤æ“ä½œæ¥ä¸»åŠ¨æ¸…é™¤è¿™ä¸ªèŠ‚ç‚¹ã€‚")]),e._v(" "),a("li",[e._v("ä¸´æ—¶èŠ‚ç‚¹ï¼Œå’ŒæŒä¹…èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œä¸´æ—¶èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸå’Œå®¢æˆ·ç«¯ä¼šè¯ç»‘å®šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¼šè¯å¤±æ•ˆï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±ä¼šè‡ªåŠ¨è¢«æ¸…é™¤æ‰ã€‚æ³¨æ„ï¼Œè¿™é‡Œæåˆ°çš„æ˜¯ä¼šè¯å¤±æ•ˆï¼Œè€Œéè¿æ¥æ–­å¼€ã€‚å¦å¤–ï¼Œåœ¨ä¸´æ—¶èŠ‚ç‚¹ä¸‹é¢ä¸èƒ½åˆ›å»ºå­èŠ‚ç‚¹ã€‚")]),e._v(" "),a("li",[e._v("æŒä¹…é¡ºåºèŠ‚ç‚¹ï¼Œè¿™ç±»èŠ‚ç‚¹çš„åŸºæœ¬ç‰¹æ€§å’ŒæŒä¹…èŠ‚ç‚¹æ˜¯ä¸€è‡´çš„ã€‚é¢å¤–çš„ç‰¹æ€§æ˜¯ï¼Œåœ¨ZKä¸­ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹ä¼šä¸ºä»–çš„ç¬¬ä¸€çº§å­èŠ‚ç‚¹ç»´æŠ¤ä¸€ä»½æ—¶åºï¼Œä¼šè®°å½•æ¯ä¸ªå­èŠ‚ç‚¹åˆ›å»ºçš„å…ˆåé¡ºåºã€‚åŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œåœ¨åˆ›å»ºå­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºèŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼ŒZKä¼šè‡ªåŠ¨ä¸ºç»™å®šèŠ‚ç‚¹ååŠ ä¸Šä¸€ä¸ªæ•°å­—åç¼€ï¼Œä½œä¸ºæ–°çš„èŠ‚ç‚¹åã€‚è¿™ä¸ªæ•°å­—åç¼€çš„èŒƒå›´æ˜¯æ•´å‹çš„æœ€å¤§å€¼ã€‚")]),e._v(" "),a("li",[e._v("ä¸´æ—¶é¡ºåºèŠ‚ç‚¹ï¼Œç±»ä¼¼ä¸´æ—¶èŠ‚ç‚¹å’Œé¡ºåºèŠ‚ç‚¹")])]),e._v(" "),a("p",[e._v("zookeeperé»˜è®¤å¯¹æ¯ä¸ªç»“ç‚¹çš„æœ€å¤§æ•°æ®é‡æœ‰ä¸€ä¸ªä¸Šé™æ˜¯1M")]),e._v(" "),a("h2",{attrs:{id:"stat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stat"}},[e._v("#")]),e._v(" Stat")]),e._v(" "),a("p",[e._v("ZooKeeperå‘½åç©ºé—´ä¸­çš„æ¯ä¸ªznodeéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„statç»“æ„ï¼Œç±»ä¼¼äºUnix/Linuxæ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„statç»“æ„ã€‚ znodeçš„statç»“æ„ä¸­çš„å­—æ®µæ˜¾ç¤ºå¦‚ä¸‹ï¼Œå„è‡ªçš„å«ä¹‰å¦‚ä¸‹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("cZxidï¼šåˆ›å»ºznodeçš„äº‹åŠ¡IDã€‚")]),e._v(" "),a("li",[e._v("mZxidï¼šæœ€åä¿®æ”¹znodeçš„äº‹åŠ¡IDã€‚")]),e._v(" "),a("li",[e._v("pZxidï¼šæœ€åä¿®æ”¹æ·»åŠ æˆ–åˆ é™¤å­èŠ‚ç‚¹çš„äº‹åŠ¡IDã€‚")]),e._v(" "),a("li",[e._v("ctimeï¼šè¡¨ç¤ºä»1970-01-01T00:00:00Zå¼€å§‹ä»¥æ¯«ç§’ä¸ºå•ä½çš„znodeåˆ›å»ºæ—¶é—´ã€‚")]),e._v(" "),a("li",[e._v("mtimeï¼šè¡¨ç¤ºä»1970-01-01T00:00:00Zå¼€å§‹ä»¥æ¯«ç§’ä¸ºå•ä½çš„znodeæœ€è¿‘ä¿®æ”¹æ—¶é—´ã€‚")]),e._v(" "),a("li",[e._v("dataVersionï¼šè¡¨ç¤ºå¯¹è¯¥znodeçš„æ•°æ®æ‰€åšçš„æ›´æ”¹æ¬¡æ•°ã€‚")]),e._v(" "),a("li",[e._v("cversionï¼šè¿™è¡¨ç¤ºå¯¹æ­¤znodeçš„å­èŠ‚ç‚¹è¿›è¡Œçš„æ›´æ”¹æ¬¡æ•°ã€‚")]),e._v(" "),a("li",[e._v("aclVersionï¼šè¡¨ç¤ºå¯¹æ­¤znodeçš„ACLè¿›è¡Œæ›´æ”¹çš„æ¬¡æ•°ã€‚")]),e._v(" "),a("li",[e._v("ephemeralOwnerï¼šå¦‚æœznodeæ˜¯ephemeralç±»å‹èŠ‚ç‚¹ï¼Œåˆ™è¿™æ˜¯znodeæ‰€æœ‰è€…çš„ session IDã€‚ å¦‚æœznodeä¸æ˜¯ephemeralèŠ‚ç‚¹ï¼Œåˆ™è¯¥å­—æ®µè®¾ç½®ä¸ºé›¶ã€‚")]),e._v(" "),a("li",[e._v("dataLengthï¼šè¿™æ˜¯znodeæ•°æ®å­—æ®µçš„é•¿åº¦ã€‚")]),e._v(" "),a("li",[e._v("numChildrenï¼šè¿™è¡¨ç¤ºznodeçš„å­èŠ‚ç‚¹çš„æ•°é‡ã€‚")])]),e._v(" "),a("h2",{attrs:{id:"zxid-åé¢è®²zabç®—æ³•ä¼šç€é‡è®²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zxid-åé¢è®²zabç®—æ³•ä¼šç€é‡è®²"}},[e._v("#")]),e._v(" Zxid-åé¢è®²zabç®—æ³•ä¼šç€é‡è®²")]),e._v(" "),a("p",[e._v("ç±»ä¼¼äºRDBMSä¸­çš„äº‹åŠ¡IDï¼Œç”¨äºæ ‡è¯†ä¸€æ¬¡æ›´æ–°æ“ä½œçš„Proposal IDã€‚ä¸ºäº†ä¿è¯é¡ºåºæ€§ï¼Œè¯¥zkidå¿…é¡»å•è°ƒé€’å¢ã€‚å› æ­¤ZooKeeperä½¿ç”¨ä¸€ä¸ª64ä½çš„æ•°æ¥è¡¨ç¤ºï¼Œé«˜32ä½æ˜¯Leaderçš„epochï¼Œä»1å¼€å§‹ï¼Œæ¯æ¬¡é€‰å‡ºæ–°çš„Leaderï¼ŒepochåŠ ä¸€ã€‚ä½32ä½ä¸ºè¯¥epochå†…çš„åºå·ï¼Œæ¯æ¬¡epochå˜åŒ–ï¼Œéƒ½å°†ä½32ä½çš„åºå·é‡ç½®ã€‚è¿™æ ·ä¿è¯äº†zkidçš„å…¨å±€é€’å¢æ€§ã€‚")]),e._v(" "),a("h2",{attrs:{id:"watch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[e._v("#")]),e._v(" Watch")]),e._v(" "),a("p",[e._v("ä¸€ä¸ªzkçš„èŠ‚ç‚¹å¯ä»¥è¢«ç›‘æ§ï¼ŒåŒ…æ‹¬è¿™ä¸ªç›®å½•ä¸­å­˜å‚¨çš„æ•°æ®çš„ä¿®æ”¹ï¼Œå­èŠ‚ç‚¹ç›®å½•çš„å˜åŒ–ï¼Œä¸€æ—¦å˜åŒ–å¯ä»¥é€šçŸ¥è®¾ç½®ç›‘æ§çš„å®¢æˆ·ç«¯ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯zookeeperå¯¹äºåº”ç”¨æœ€é‡è¦çš„ç‰¹æ€§ï¼Œé€šè¿‡è¿™ä¸ªç‰¹æ€§å¯ä»¥å®ç°çš„åŠŸèƒ½åŒ…æ‹¬é…ç½®çš„é›†ä¸­ç®¡ç†ï¼Œé›†ç¾¤ç®¡ç†ï¼Œåˆ†å¸ƒå¼é”ç­‰ç­‰ã€‚")]),e._v(" "),a("p",[e._v("watchæœºåˆ¶å®˜æ–¹è¯´æ˜ï¼šä¸€ä¸ªWatchäº‹ä»¶æ˜¯ä¸€ä¸ª"),a("strong",[e._v("ä¸€æ¬¡æ€§")]),e._v("çš„è§¦å‘å™¨ï¼Œå½“è¢«è®¾ç½®äº†Watchçš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜çš„æ—¶å€™ï¼Œåˆ™æœåŠ¡å™¨å°†è¿™ä¸ªæ”¹å˜å‘é€ç»™è®¾ç½®äº†Watchçš„å®¢æˆ·ç«¯ï¼Œä»¥ä¾¿é€šçŸ¥å®ƒä»¬ã€‚")]),e._v(" "),a("p",[e._v("å¯ä»¥æ³¨å†Œwatcherçš„æ–¹æ³•ï¼šgetDataã€existsã€getChildrenã€‚")]),e._v(" "),a("p",[e._v("å¯ä»¥è§¦å‘watcherçš„æ–¹æ³•ï¼šcreateã€deleteã€setDataã€‚è¿æ¥æ–­å¼€çš„æƒ…å†µä¸‹è§¦å‘çš„watcherä¼šä¸¢å¤±ã€‚")]),e._v(" "),a("p",[e._v("ä¸€ä¸ªWatcherå®ä¾‹æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¢«å›è°ƒä¸€æ¬¡åå°±è¢«ç§»é™¤äº†ã€‚å¦‚æœè¿˜éœ€è¦å…³æ³¨æ•°æ®çš„å˜åŒ–ï¼Œéœ€è¦å†æ¬¡æ³¨å†Œwatcherã€‚")]),e._v(" "),a("p",[e._v("New ZooKeeperæ—¶æ³¨å†Œçš„watcherå«default watcherï¼Œå®ƒä¸æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œåªå¯¹clientçš„è¿æ¥çŠ¶æ€å˜åŒ–ä½œå‡ºååº”ã€‚")]),e._v(" "),a("p",[e._v("exitså’ŒgetDataè®¾ç½®æ•°æ®ç›‘è§†ï¼Œè€ŒgetChildrenè®¾ç½®å­èŠ‚ç‚¹ç›‘è§†")]),e._v(" "),a("h1",{attrs:{id:"å¸¸ç”¨å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨å‘½ä»¤"}},[e._v("#")]),e._v(" å¸¸ç”¨å‘½ä»¤")]),e._v(" "),a("h2",{attrs:{id:"åˆ›å»ºèŠ‚ç‚¹-znode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºèŠ‚ç‚¹-znode"}},[e._v("#")]),e._v(" åˆ›å»ºèŠ‚ç‚¹ï¼ˆznodeï¼‰")]),e._v(" "),a("p",[e._v("ç”¨ç»™å®šçš„è·¯å¾„åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚flagå‚æ•°æŒ‡å®šåˆ›å»ºçš„èŠ‚ç‚¹æ˜¯ä¸´æ—¶çš„ï¼ŒæŒä¹…çš„è¿˜æ˜¯é¡ºåºçš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯æŒä¹…çš„ã€‚")]),e._v(" "),a("p",[e._v("å½“ä¼šè¯è¿‡æœŸæˆ–å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶ï¼Œä¸´æ—¶èŠ‚ç‚¹ï¼ˆflagï¼š-eï¼‰å°†è¢«è‡ªåŠ¨åˆ é™¤ã€‚")]),e._v(" "),a("p",[e._v("é¡ºåºèŠ‚ç‚¹ä¿è¯èŠ‚ç‚¹è·¯å¾„å°†æ˜¯å”¯ä¸€çš„ã€‚")]),e._v(" "),a("p",[e._v("ZooKeeperé›†åˆå°†å‘èŠ‚ç‚¹è·¯å¾„å¡«å……10ä½åºåˆ—å·ã€‚ä¾‹å¦‚ï¼ŒèŠ‚ç‚¹è·¯å¾„ /myapp å°†è½¬æ¢ä¸º/myapp0000000001ï¼Œä¸‹ä¸€ä¸ªåºåˆ—å·å°†ä¸º/myapp0000000002ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šflagï¼Œåˆ™èŠ‚ç‚¹è¢«è®¤ä¸ºæ˜¯æŒä¹…çš„ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create /path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create /FirstNode first\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 3] create /FirstNode first\nCreated /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("è¦åˆ›å»ºé¡ºåºèŠ‚ç‚¹ï¼Œè¯·æ·»åŠ flagï¼š-sï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -s /path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -s /FirstNode second\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 4] create -s /FirstNode second\nCreated /FirstNode0000000018\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("è¦åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹ï¼Œè¯·æ·»åŠ flagï¼š-e ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -e /path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -e /FirstNode-ephemeral ephemeral\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 6] create -e /FirstNode-ephemeral ephemeral\nCreated /FirstNode-ephemeral\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("è®°ä½å½“å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶ï¼Œä¸´æ—¶èŠ‚ç‚¹å°†è¢«åˆ é™¤ã€‚ä½ å¯ä»¥é€šè¿‡é€€å‡ºZooKeeper CLIï¼Œç„¶åé‡æ–°æ‰“å¼€CLIæ¥å°è¯•ã€‚")]),e._v(" "),a("h3",{attrs:{id:"åˆ›å»ºå®¹å™¨èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå®¹å™¨èŠ‚ç‚¹"}},[e._v("#")]),e._v(" åˆ›å»ºå®¹å™¨èŠ‚ç‚¹")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -c /path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("åªæœ‰æ·»åŠ è¿‡å­èŠ‚ç‚¹ï¼Œå®¹å™¨èŠ‚ç‚¹çš„ç‰¹æ€§æ‰ä¼šç”Ÿæ•ˆï¼Œå®¹å™¨èŠ‚ç‚¹çš„ç‰¹æ€§æ˜¯ï¼šèŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹è¢«åˆ é™¤è¿‡ï¼Œè¯¥èŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ é™¤ï¼ˆå¯èƒ½å»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼‰")]),e._v(" "),a("h3",{attrs:{id:"åˆ›å»ºttlèŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºttlèŠ‚ç‚¹"}},[e._v("#")]),e._v(" åˆ›å»ºTTLèŠ‚ç‚¹")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create -t 3000 /path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("TTLèŠ‚ç‚¹åˆ›å»ºåï¼Œå¦‚æœ3ç§’å†…æ²¡æœ‰æ•°æ®ä¿®æ”¹ï¼Œå¹¶ä¸”æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ é™¤")]),e._v(" "),a("p",[e._v("å‰ææ˜¯ï¼ŒæœåŠ¡ç«¯æ”¯æŒäº†TTLèŠ‚ç‚¹ï¼Œé»˜è®¤æ²¡æœ‰å¼€å¯ï¼Œé€šè¿‡-Dzookeeper.extendedTypesEnabled=trueå¯ä»¥å¼€å¯")]),e._v(" "),a("h2",{attrs:{id:"è·å–æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æ•°æ®"}},[e._v("#")]),e._v(" è·å–æ•°æ®")]),e._v(" "),a("p",[e._v("å®ƒè¿”å›èŠ‚ç‚¹çš„å…³è”æ•°æ®å’ŒæŒ‡å®šèŠ‚ç‚¹çš„å…ƒæ•°æ®ã€‚ä½ å°†è·å¾—ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸Šæ¬¡ä¿®æ”¹æ•°æ®çš„æ—¶é—´ï¼Œä¿®æ”¹çš„ä½ç½®ä»¥åŠæ•°æ®çš„ç›¸å…³ä¿¡æ¯ã€‚æ­¤CLIè¿˜ç”¨äºåˆ†é…ç›‘è§†å™¨ä»¥æ˜¾ç¤ºæ•°æ®ç›¸å…³çš„é€šçŸ¥ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("get /path\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("get /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 7] get /FirstNode\nfirst\ncZxid = 0xa2\nctime = Wed Dec 12 13:29:14 CST 2018\nmZxid = 0xa2\nmtime = Wed Dec 12 13:29:14 CST 2018\npZxid = 0xa2\ncversion = 0\ndataVersion = 0\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 5\nnumChildren = 0\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("p",[e._v("è¦è®¿é—®é¡ºåºèŠ‚ç‚¹ï¼Œå¿…é¡»è¾“å…¥znodeçš„å®Œæ•´è·¯å¾„ã€‚")]),e._v(" "),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("get /FirstNode0000000018\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 9] get /FirstNode0000000018\nsecond\ncZxid = 0xa3\nctime = Wed Dec 12 13:30:44 CST 2018\nmZxid = 0xa3\nmtime = Wed Dec 12 13:30:44 CST 2018\npZxid = 0xa3\ncversion = 0\ndataVersion = 0\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 6\nnumChildren = 0\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("h2",{attrs:{id:"è®¾ç½®æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®æ•°æ®"}},[e._v("#")]),e._v(" è®¾ç½®æ•°æ®")]),e._v(" "),a("p",[e._v("è®¾ç½®æŒ‡å®šznodeçš„æ•°æ®ã€‚å®Œæˆæ­¤è®¾ç½®æ“ä½œåï¼Œä½ å¯ä»¥ä½¿ç”¨ get CLIå‘½ä»¤æ£€æŸ¥æ•°æ®ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("set /path /data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("set /FirstNode first_update\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 12] set /FirstNode first_update\n\nWATCHER::\n\nWatchedEvent state:SyncConnected type:NodeDataChanged path:/FirstNode\ncZxid = 0xa2\nctime = Wed Dec 12 13:29:14 CST 2018\nmZxid = 0xa6\nmtime = Wed Dec 12 13:51:39 CST 2018\npZxid = 0xa2\ncversion = 0\ndataVersion = 1\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 12\nnumChildren = 0\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br")])]),a("h2",{attrs:{id:"åˆ›å»ºå­èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå­èŠ‚ç‚¹"}},[e._v("#")]),e._v(" åˆ›å»ºå­èŠ‚ç‚¹")]),e._v(" "),a("p",[e._v("åˆ›å»ºå­èŠ‚ç‚¹ç±»ä¼¼äºåˆ›å»ºæ–°çš„znodeã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå­znodeçš„è·¯å¾„ä¹Ÿå°†å…·æœ‰çˆ¶è·¯å¾„ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create /parent/path/subnode/path data\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("create /FirstNode/Child firstchildren\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 13] create /FirstNode/Child firstchildren\nCreated /FirstNode/Child\n[zk: localhost:2181(CONNECTED) 14] create /FirstNode/Child2 secondchildren\nCreated /FirstNode/Child2\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h2",{attrs:{id:"åˆ—å‡ºå­èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—å‡ºå­èŠ‚ç‚¹"}},[e._v("#")]),e._v(" åˆ—å‡ºå­èŠ‚ç‚¹")]),e._v(" "),a("p",[e._v("æ­¤å‘½ä»¤ç”¨äºåˆ—å‡ºå’Œæ˜¾ç¤ºznodeçš„å­é¡¹ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ls /path\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("å®ä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ls /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 15] ls /FirstNode\n[Child2, Child]\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h2",{attrs:{id:"æ£€æŸ¥çŠ¶æ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ£€æŸ¥çŠ¶æ€"}},[e._v("#")]),e._v(" æ£€æŸ¥çŠ¶æ€")]),e._v(" "),a("p",[e._v("çŠ¶æ€æè¿°æŒ‡å®šçš„znodeçš„å…ƒæ•°æ®ã€‚å®ƒåŒ…å«æ—¶é—´æˆ³ï¼Œç‰ˆæœ¬å·ï¼ŒACLï¼Œæ•°æ®é•¿åº¦å’Œå­znodeç­‰ç»†é¡¹ã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("stat /path\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("stat /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 16] stat /FirstNode\ncZxid = 0xa2\nctime = Wed Dec 12 13:29:14 CST 2018\nmZxid = 0xa6\nmtime = Wed Dec 12 13:51:39 CST 2018\npZxid = 0xa8\ncversion = 2\ndataVersion = 1\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 12\nnumChildren = 2\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("h2",{attrs:{id:"ç§»é™¤znode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç§»é™¤znode"}},[e._v("#")]),e._v(" ç§»é™¤Znode")]),e._v(" "),a("p",[e._v("ç§»é™¤æŒ‡å®šçš„znodeå¹¶é€’å½’å…¶æ‰€æœ‰å­èŠ‚ç‚¹ã€‚åªæœ‰åœ¨znodeå¯ç”¨çš„æƒ…å†µä¸‹æ‰ä¼šå‘ç”Ÿã€‚")]),e._v(" "),a("p",[e._v("è¯­æ³•ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rmr /path\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("ç¤ºä¾‹ï¼š")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rmr /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¾“å‡ºï¼š")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 17] rmr /FirstNode \n[zk: localhost:2181(CONNECTED) 18] get /FirstNode\nNode does not exist: /FirstNode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("åˆ é™¤(delete /path)å‘½ä»¤ç±»ä¼¼äº remove å‘½ä»¤ï¼Œä½†æ˜¯åªé€‚ç”¨äºæ²¡æœ‰å­èŠ‚ç‚¹çš„znodeã€‚")]),e._v(" "),a("h2",{attrs:{id:"acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl"}},[e._v("#")]),e._v(" ACL")]),e._v(" "),a("p",[e._v("zkåšä¸ºåˆ†å¸ƒå¼æ¶æ„ä¸­çš„é‡è¦ä¸­é—´ä»¶ï¼Œé€šå¸¸ä¼šåœ¨ä¸Šé¢ä»¥èŠ‚ç‚¹çš„æ–¹å¼å­˜å‚¨ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åº”ç”¨éƒ½å¯ä»¥è¯»å†™ä»»ä½•èŠ‚ç‚¹ï¼Œåœ¨å¤æ‚çš„åº”ç”¨ä¸­ï¼Œè¿™ä¸å¤ªå®‰å…¨ï¼ŒZKé€šè¿‡ACLæœºåˆ¶æ¥è§£å†³è®¿é—®æƒé™é—®é¢˜ã€‚")]),e._v(" "),a("ul",[a("li",[e._v("ZooKeeperçš„æƒé™æ§åˆ¶æ˜¯åŸºäºæ¯ä¸ªznodeèŠ‚ç‚¹çš„ï¼Œéœ€è¦å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¾ç½®æƒé™")]),e._v(" "),a("li",[e._v("æ¯ä¸ªznodeæ”¯æŒè®¾ç½®å¤šç§æƒé™æ§åˆ¶æ–¹æ¡ˆå’Œå¤šä¸ªæƒé™")]),e._v(" "),a("li",[e._v("å­èŠ‚ç‚¹ä¸ä¼šç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„æƒé™ï¼Œå®¢æˆ·ç«¯æ— æƒè®¿é—®æŸèŠ‚ç‚¹ï¼Œä½†å¯èƒ½å¯ä»¥è®¿é—®å®ƒçš„å­èŠ‚ç‚¹")])]),e._v(" "),a("p",[e._v("ACL æƒé™æ§åˆ¶ï¼Œä½¿ç”¨ï¼šschemağŸ†”permission æ¥æ ‡è¯†ï¼Œä¸»è¦æ¶µç›– 3 ä¸ªæ–¹é¢ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("æƒé™æ¨¡å¼ï¼ˆSchemaï¼‰ï¼šé‰´æƒçš„ç­–ç•¥")]),e._v(" "),a("li",[e._v("æˆæƒå¯¹è±¡ï¼ˆIDï¼‰")]),e._v(" "),a("li",[e._v("æƒé™ï¼ˆPermissionï¼‰")])]),e._v(" "),a("h3",{attrs:{id:"schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schema"}},[e._v("#")]),e._v(" schema")]),e._v(" "),a("ul",[a("li",[e._v("worldï¼šåªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼šanyoneï¼Œä»£è¡¨æ‰€æœ‰äººï¼ˆé»˜è®¤ï¼‰")]),e._v(" "),a("li",[e._v("ipï¼šä½¿ç”¨IPåœ°å€è®¤è¯")]),e._v(" "),a("li",[e._v("authï¼šä½¿ç”¨å·²æ·»åŠ è®¤è¯çš„ç”¨æˆ·è®¤è¯")]),e._v(" "),a("li",[e._v("digestï¼šä½¿ç”¨â€œç”¨æˆ·å:å¯†ç â€æ–¹å¼è®¤è¯")])]),e._v(" "),a("h3",{attrs:{id:"id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#id"}},[e._v("#")]),e._v(" id")]),e._v(" "),a("p",[e._v("æˆæƒå¯¹è±¡IDæ˜¯æŒ‡ï¼Œæƒé™èµ‹äºˆçš„ç”¨æˆ·æˆ–è€…ä¸€ä¸ªå®ä½“ï¼Œä¾‹å¦‚ï¼šIP åœ°å€æˆ–è€…æœºå™¨ã€‚æˆæƒæ¨¡å¼ schema ä¸ æˆæƒå¯¹è±¡ ID ä¹‹é—´å…³ç³»ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("worldï¼šåªæœ‰ä¸€ä¸ªidï¼Œå³anyone")]),e._v(" "),a("li",[e._v("ip: é€šå¸¸æ˜¯ä¸€ä¸ªipåœ°å€æˆ–åœ°å€æ®µï¼Œæ¯”å¦‚192.168.0.110æˆ–192.168.0.1/24")]),e._v(" "),a("li",[e._v("authï¼šç”¨æˆ·å")]),e._v(" "),a("li",[e._v('digestï¼šè‡ªå®šä¹‰ï¼šé€šå¸¸æ˜¯"username:BASE64(SHA-1(username:password))"')])]),e._v(" "),a("h3",{attrs:{id:"æƒé™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æƒé™"}},[e._v("#")]),e._v(" æƒé™")]),e._v(" "),a("ul",[a("li",[e._v("CREATE, ç®€å†™ä¸ºcï¼Œå¯ä»¥åˆ›å»ºå­èŠ‚ç‚¹")]),e._v(" "),a("li",[e._v("DELETEï¼Œç®€å†™ä¸ºdï¼Œå¯ä»¥åˆ é™¤å­èŠ‚ç‚¹ï¼ˆä»…ä¸‹ä¸€çº§èŠ‚ç‚¹ï¼‰ï¼Œæ³¨æ„ä¸æ˜¯æœ¬èŠ‚ç‚¹")]),e._v(" "),a("li",[e._v("READï¼Œç®€å†™ä¸ºrï¼Œå¯ä»¥è¯»å–èŠ‚ç‚¹æ•°æ®åŠæ˜¾ç¤ºå­èŠ‚ç‚¹åˆ—è¡¨")]),e._v(" "),a("li",[e._v("WRITEï¼Œç®€å†™ä¸ºwï¼Œå¯è®¾ç½®èŠ‚ç‚¹æ•°æ®")]),e._v(" "),a("li",[e._v("ADMINï¼Œç®€å†™ä¸ºaï¼Œå¯ä»¥è®¾ç½®èŠ‚ç‚¹è®¿é—®æ§åˆ¶åˆ—è¡¨")])]),e._v(" "),a("h4",{attrs:{id:"æŸ¥çœ‹acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹acl"}},[e._v("#")]),e._v(" æŸ¥çœ‹ACL")]),e._v(" "),a("p",[e._v("æŸ¥çœ‹ACL")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("getAcl /parent\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("è¿”å›")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 122] getAcl /parent\n'world,'anyone\n: cdrwa\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("é»˜è®¤åˆ›å»ºçš„èŠ‚ç‚¹çš„æƒé™æ˜¯æœ€å¼€æ”¾çš„ï¼Œæ‰€æœ‰éƒ½å¯ä»¥å¢åˆ æŸ¥æ”¹ç®¡ç†ã€‚")]),e._v(" "),a("h4",{attrs:{id:"è®¾ç½®acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®acl"}},[e._v("#")]),e._v(" è®¾ç½®ACL")]),e._v(" "),a("p",[e._v("è®¾ç½®èŠ‚ç‚¹å¯¹æ‰€æœ‰äººéƒ½æœ‰å†™å’Œç®¡ç†æƒé™")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("setAcl /parent world:anyone:wa\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("æ‰€ä»¥å»è¯»å–æ•°æ®çš„æ—¶å€™ä¼šæç¤º")]),e._v(" "),a("div",{staticClass:"language-plain line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[e._v("[zk: localhost:2181(CONNECTED) 124] get /parent\nAuthentication is not valid : /parent\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("å…ˆæ·»åŠ ç”¨æˆ·ï¼š")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("addauth digest zhangsan:12345\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("å†è®¾ç½®æƒé™ï¼Œè¿™ä¸ªèŠ‚ç‚¹åªæœ‰zhangsanè¿™ä¸ªç”¨æˆ·æ‹¥æœ‰æ‰€æœ‰æƒé™")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("setAcl /parent auth:zhangsan:123456:rdwca\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"è¶…çº§ç®¡ç†å‘˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¶…çº§ç®¡ç†å‘˜"}},[e._v("#")]),e._v(" è¶…çº§ç®¡ç†å‘˜")]),e._v(" "),a("p",[e._v("è¶…çº§ç®¡ç†å‘˜çš„ç”¨æˆ·åä¸ºsuperï¼Œå¯†ç è‡ªå®šä¹‰æ¯”å¦‚ï¼šadmin")]),e._v(" "),a("ol",[a("li",[e._v('é¦–å…ˆè°ƒç”¨DigestAuthenticationProvider.generateDigest("super:admin")è·å–ç­¾åï¼Œæ¯”å¦‚ç»“æœä¸ºï¼šsuper:xQJmxLMiHGwaqBvst5y6rkB6HQs=')]),e._v(" "),a("li",[e._v("åœ¨å¯åŠ¨ZookeeperæœåŠ¡ç«¯æ—¶åŠ å…¥-Dzookeeper.DigestAuthenticationProvider.superDigest=super:xQJmxLMiHGwaqBvst5y6rkB6HQs=")]),e._v(" "),a("li",[e._v("å¯åŠ¨zookeeperå¹¶ä½¿ç”¨å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥")]),e._v(" "),a("li",[e._v("å¦‚æœé‡åˆ°æ²¡æœ‰æ“ä½œæƒé™çš„èŠ‚ç‚¹ï¼Œè¿™æ—¶å¯ä»¥addauth digest super:adminæ¥å¼€å¯ç®¡ç†å‘˜ï¼Œå³æœ‰æ‰€æœ‰æƒé™")])]),e._v(" "),a("h2",{attrs:{id:"reconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reconfig"}},[e._v("#")]),e._v(" reconfig")]),e._v(" "),a("p",[e._v("Zookeeper 3.5+æä¾›äº†reconfigåŠŸèƒ½å®ç°åŠ¨æ€é…ç½®èŠ‚ç‚¹ï¼Œå®˜æ–¹çš„è¯´æ˜æ˜¯ï¼Œâ€œä½ å†ä¹Ÿä¸éœ€è¦è¿›è¡Œå…¨éƒ¨èŠ‚ç‚¹é‡å¯â€å°±å¯ä»¥åº”ç”¨æ‰€æœ‰çš„ä¿®æ”¹ã€‚")]),e._v(" "),a("p",[e._v("å…·ä½“è¿˜æ˜¯çœ‹è§†é¢‘æ“ä½œå§ã€‚ã€‚")]),e._v(" "),a("h2",{attrs:{id:"curatorå®¢æˆ·ç«¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curatorå®¢æˆ·ç«¯"}},[e._v("#")]),e._v(" Curatorå®¢æˆ·ç«¯")]),e._v(" "),a("ol",[a("li",[e._v("Recipesï¼šZookeeperå…¸å‹åº”ç”¨åœºæ™¯çš„å®ç°ï¼Œè¿™äº›å®ç°æ˜¯åŸºäºCurator Frameworkã€‚")]),e._v(" "),a("li",[e._v("Frameworkï¼šZookeeper APIçš„é«˜å±‚å°è£…ï¼Œå¤§å¤§ç®€åŒ–Zookeeperå®¢æˆ·ç«¯ç¼–ç¨‹ï¼Œæ·»åŠ äº†ä¾‹å¦‚Zookeeperè¿æ¥ç®¡ç†ã€é‡è¯•æœºåˆ¶ç­‰ã€‚")]),e._v(" "),a("li",[e._v("Utilitiesï¼šä¸ºZookeeperæä¾›çš„å„ç§å®ç”¨ç¨‹åºã€‚")]),e._v(" "),a("li",[e._v("Clientï¼šZookeeper clientçš„å°è£…ï¼Œç”¨äºå–ä»£åŸç”Ÿçš„Zookeeperå®¢æˆ·ç«¯ï¼ˆZooKeeperç±»ï¼‰ï¼Œæä¾›ä¸€äº›éå¸¸æœ‰ç”¨çš„å®¢æˆ·ç«¯ç‰¹æ€§ã€‚")]),e._v(" "),a("li",[e._v("Errorsï¼šCuratorå¦‚ä½•å¤„ç†é”™è¯¯ï¼Œè¿æ¥é—®é¢˜ï¼Œå¯æ¢å¤çš„ä¾‹å¤–ç­‰ã€‚")])]),e._v(" "),a("h3",{attrs:{id:"curatorä¸»è¦è§£å†³äº†ä¸‰ç±»é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curatorä¸»è¦è§£å†³äº†ä¸‰ç±»é—®é¢˜"}},[e._v("#")]),e._v(" Curatorä¸»è¦è§£å†³äº†ä¸‰ç±»é—®é¢˜")]),e._v(" "),a("ol",[a("li",[e._v("å°è£…ZooKeeper clientä¸ZooKeeper serverä¹‹é—´çš„è¿æ¥å¤„ç†")]),e._v(" "),a("li",[e._v("æä¾›äº†ä¸€å¥—Fluenté£æ ¼çš„æ“ä½œAPI")]),e._v(" "),a("li",[e._v("æä¾›ZooKeeperå„ç§åº”ç”¨åœºæ™¯(recipe, æ¯”å¦‚å…±äº«é”æœåŠ¡, é›†ç¾¤é¢†å¯¼é€‰ä¸¾æœºåˆ¶)çš„æŠ½è±¡å°è£…")])]),e._v(" "),a("h3",{attrs:{id:"åŸç”Ÿzookeeperå®¢æˆ·ç«¯å­˜åœ¨çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸç”Ÿzookeeperå®¢æˆ·ç«¯å­˜åœ¨çš„é—®é¢˜"}},[e._v("#")]),e._v(" åŸç”ŸZookeeperå®¢æˆ·ç«¯å­˜åœ¨çš„é—®é¢˜")]),e._v(" "),a("p",[e._v("å®¢æˆ·ç«¯åœ¨è¿æ¥æœåŠ¡ç«¯æ˜¯ä¼šè®¾ç½®ä¸€ä¸ªsessionTimeoutï¼ˆsessionè¿‡æœŸæ—¶é—´ï¼‰ï¼Œå¹¶ä¸”å®¢æˆ·ç«¯ä¼šç»™æœåŠ¡ç«¯å‘é€å¿ƒè·³ä»¥åˆ·æ–°æœåŠ¡ç«¯çš„sessionæ—¶é—´ã€‚")]),e._v(" "),a("p",[e._v("å½“ç½‘ç»œæ–­å¼€åï¼ŒæœåŠ¡ç«¯æ— æ³•æ¥å—åˆ°å¿ƒè·³ï¼Œä¼šè¿›è¡Œsessionå€’è®¡æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦è¶…è¿‡äº†sessionè¿‡æœŸæ—¶é—´ï¼Œä¸€æ—¦è¶…è¿‡äº†è¿‡æœŸæ—¶é—´ï¼Œå°±å‘é€äº†Sessionè¿‡æœŸï¼Œå°±ç®—åæ¥ç½‘ç»œé€šäº†ï¼Œå®¢æˆ·ç«¯ä»æ–°è¿æ¥ä¸Šäº†æœåŠ¡ç«¯ï¼Œå°±ä¼šæ¥å—sessionè¿‡æœŸçš„äº‹ä»¶ï¼Œä»è€Œåˆ é™¤ä¸´æ—¶èŠ‚ç‚¹å’Œwatcherç­‰ç­‰ã€‚åŸç”Ÿå®¢æˆ·ç«¯ä¸ä¼šé‡å»ºsessionã€‚")])])}),[],!1,null,null,null);a.default=n.exports}}]);